@tailwind base;
@tailwind components;
@tailwind utilities;

/* BUFLY "Crystal Library" Design System - Old Money aesthetic with elegant refinement */

@layer base {
  :root {
    /* BUFLY Crystal Library Color Palette */
    /* Primary colors */
    --parchment: 45 45% 98%;
    --charcoal: 232 28% 26%;
    --slate: 232 21% 35%;
    
    /* Accent colors */
    --sapphire: 201 88% 22%;
    --emerald: 165 100% 31%;
    --ruby: 358 62% 38%;
    --amber: 48 100% 50%;
    
    /* System colors mapped to new palette */
    --background: var(--parchment);
    --foreground: var(--charcoal);
    
    --card: var(--parchment);
    --card-foreground: var(--charcoal);
    
    --popover: var(--parchment);
    --popover-foreground: var(--charcoal);
    
    --primary: var(--sapphire);
    --primary-foreground: var(--parchment);
    
    --secondary: var(--slate);
    --secondary-foreground: var(--parchment);
    --secondary-light: 232 21% 90%;
    
    --muted: 232 15% 92%;
    --muted-foreground: var(--charcoal);
    
    --accent: var(--sapphire);
    --accent-foreground: var(--parchment);
    
    --success: var(--emerald);
    --success-foreground: var(--parchment);
    
    --warning: var(--amber);
    --warning-foreground: var(--charcoal);
    
    --destructive: var(--ruby);
    --destructive-foreground: var(--parchment);
    
    --border: 232 28% 82%;
    --input: var(--parchment);
    --ring: var(--sapphire);
    
    /* Inactive states */
    --inactive: var(--parchment);
    --inactive-foreground: 232 28% 55%;
    --inactive-border: 232 28% 75%;
    
    --radius: 0.25rem;
    
    --sidebar-background: var(--parchment);
    --sidebar-foreground: var(--charcoal);
    --sidebar-primary: var(--sapphire);
    --sidebar-primary-foreground: var(--parchment);
    --sidebar-accent: var(--slate);
    --sidebar-accent-foreground: var(--parchment);
    --sidebar-border: 232 28% 82%;
    --sidebar-ring: var(--sapphire);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    line-height: 1.6;
  }

  /* Crystal Library typography system */
  .font-serif {
    font-family: 'Playfair Display', serif;
  }
  
  .font-sans {
    font-family: 'Lato', system-ui, sans-serif;
  }

  /* Legacy dyslexia-friendly styles for compatibility */
  .font-dyslexic {
    font-family: 'Lato', system-ui, sans-serif;
  }

  .font-readable {
    font-family: 'Lato', system-ui, sans-serif;
  }

  /* Elegant animations for the refined aesthetic */
  .animate-gentle-float {
    animation: gentle-float 3s ease-in-out infinite;
  }

  @keyframes gentle-float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-8px) rotate(1deg); }
  }

  /* Crystal glass effects */
  .glass-effect {
    backdrop-filter: blur(12px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .progress-crystal {
    background: linear-gradient(90deg, 
      hsla(var(--emerald), 0.8), 
      hsla(var(--emerald), 0.6)
    );
    box-shadow: 
      inset 0 1px 0 rgba(255, 255, 255, 0.3),
      0 0 8px hsla(var(--emerald), 0.4);
  }

  /* Stained glass header effect */
  .stained-glass-bg {
    background: 
      linear-gradient(135deg, 
        hsla(var(--sapphire), 0.15) 0%,
        hsla(var(--emerald), 0.15) 35%,
        hsla(var(--amber), 0.15) 70%,
        hsla(var(--sapphire), 0.15) 100%
      ),
      repeating-conic-gradient(from 0deg at 20% 30%, 
        transparent 0deg, 
        hsla(var(--sapphire), 0.1) 60deg, 
        transparent 120deg
      ),
      repeating-conic-gradient(from 45deg at 80% 70%, 
        transparent 0deg, 
        hsla(var(--emerald), 0.1) 45deg, 
        transparent 90deg
      );
    backdrop-filter: blur(12px);
  }

  /* High contrast focus styles for accessibility */
  .focus-visible {
    @apply ring-2 ring-primary ring-opacity-50 outline-none;
  }

  /* Elegant underline animation */
  .elegant-underline {
    position: relative;
  }

  .elegant-underline::after {
    content: '';
    position: absolute;
    width: 0;
    height: 1px;
    bottom: -2px;
    left: 0;
    background: hsl(var(--sapphire));
    transition: width 0.3s ease;
  }

  .elegant-underline:hover::after {
    width: 100%;
  }
}
